
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Boop Game</title>
<style>
    body {
        margin: 0;
        padding: 0;
        background-color: rgb(2, 2, 73);
        color: white;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
    }

    #game-container {
        text-align: center;
        font-family: Verdana, Geneva, Tahoma, sans-serif;
        font-size: medium;
    }

    #instructions {
        margin-top: 20px;
    }

    .gameboard-container {
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .gameboard {
        margin-top: 20px;
        display: grid;
        grid-template-columns: repeat(6, 70px);
        grid-template-rows: repeat(6, 70px);
        gap: 2px;
        border: 2px solid black;
        margin-bottom: 20px;
    }

    .cell {
        width: 70px;
        height: 70px;
        background-color: white;
        border: 1px solid black;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 36px;
        color: black;
    }

    .cell:hover {
        cursor: pointer;
        background-color: lightgray;
    }

    #new-game-btn {
        padding: 10px 20px;
        font-size: 18px;
        background-color: green;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }

    #new-game-btn:hover {
        background-color: darkgreen;
    }

    #turn-indicator {
        margin-bottom: 20px;
    }
</style>
</head>
<body>
<div id="game-container">
    <div id="instructions">
        <h2>Boop! A twist to tic-tac-toe...</h2>
        <p>Each player takes turns placing tokens ('X' and 'O') on the board.</p>
        <p>When a token is placed, it pushes adjacent tokens one square away, unless blocked by another token. Tokens on the edge of the board will be booped off the board.</p>
        <p>The first player to have three adjacent tokens horizontally, vertically, or diagonally wins!</p>
    </div>
    <div id="turn-indicator"></div>
    <div class="gameboard" id="gameboard"></div>
    <div id="message"></div>
    <button id="new-game-btn">Start New Game</button>
</div>

<script>
    const gameboard = document.getElementById('gameboard');
    const message = document.getElementById('message');
    const newGameBtn = document.getElementById('new-game-btn');
    const turnIndicator = document.getElementById('turn-indicator');
    let currentPlayer = 'X';
    let boardState = [
        ['', '', '', '', '', ''],
        ['', '', '', '', '', ''],
        ['', '', '', '', '', ''],
        ['', '', '', '', '', ''],
        ['', '', '', '', '', ''],
        ['', '', '', '', '', '']
    ];
    let gameEnded = false;

    // Function to render the gameboard
    function renderGameboard() {
        gameboard.innerHTML = '';
        for (let i = 0; i < 6; i++) {
            for (let j = 0; j < 6; j++) {
                const cell = document.createElement('div');
                cell.classList.add('cell');
                cell.dataset.row = i;
                cell.dataset.col = j;
                cell.innerText = boardState[i][j];
                cell.addEventListener('click', handleCellClick);
                gameboard.appendChild(cell);
            }
        }
    }

    // Function to handle cell click event
    function handleCellClick(event) {
        if (!gameEnded) {
            const row = parseInt(event.target.dataset.row);
            const col = parseInt(event.target.dataset.col);
            if (boardState[row][col] === '') {
                boardState[row][col] = currentPlayer;
                boopTokens(row, col);
                renderGameboard();
                if (checkWin('X')) {
                    message.innerText = `Player X wins!`;
                    gameEnded = true;
                } else if (checkWin('O')) {
                    message.innerText = `Player O wins!`;
                    gameEnded = true;
                } else {
                    currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
                    updateTurnIndicator();
                }
            }
        }
    }

    // Function to update turn indicator
    function updateTurnIndicator() {
        turnIndicator.innerText = `Current Turn: Player ${currentPlayer}`;
    }

    // Function to boop tokens
    function boopTokens(row, col) {
        const directions = [[-1, 0], [1, 0], [0, -1], [0, 1], [-1, -1], [-1, 1], [1, -1], [1, 1]];
        for (const [dx, dy] of directions) {
            let x = row + dx;
            let y = col + dy;
            if (x >= 0 && x < 6 && y >= 0 && y < 6 && boardState[x][y] !== '') {
                let nx = x + dx;
                let ny = y + dy;
                if (nx >= 0 && nx < 6 && ny >= 0 && ny < 6) {
                    if (boardState[nx][ny] === '') {
                        boardState[nx][ny] = boardState[x][y];
                        boardState[x][y] = '';
                    }
                } else {
                    // Token to be booped is adjacent to the edge of the board
                    boardState[x][y] = '';
                }
            }
        }
    }

    // Function to check for a win
    function checkWin(player) {
        // Check horizontal, vertical, and diagonal wins
        for (let i = 0; i < 6; i++) {
            for (let j = 0; j < 6; j++) {
                if (boardState[i][j] === player) {
                    // Check horizontal win
                    if (j + 2 < 6 && boardState[i][j + 1] === player && boardState[i][j + 2] === player) {
                        return true;
                    }
                    // Check vertical win
                    if (i + 2 < 6 && boardState[i + 1][j] === player && boardState[i + 2][j] === player) {
                        return true;
                    }
                    // Check diagonal win (top-left to bottom-right)
                    if (i + 2 < 6 && j + 2 < 6 && boardState[i + 1][j + 1] === player && boardState[i + 2][j + 2] === player) {
                        return true;
                    }
                    // Check diagonal win (top-right to bottom-left)
                    if (i + 2 < 6 && j - 2 >= 0 && boardState[i + 1][j - 1] === player && boardState[i + 2][j - 2] === player) {
                        return true;
                    }
                }
            }
        }
        return false;
    }

    // Event listener for new game button
    newGameBtn.addEventListener('click', () => {
        currentPlayer = 'X';
        boardState = [
            ['', '', '', '', '', ''],
            ['', '', '', '', '', ''],
            ['', '', '', '', '', ''],
            ['', '', '', '', '', ''],
            ['', '', '', '', '', ''],
            ['', '', '', '', '', '']
        ];
        gameEnded = false;
        message.innerText = '';
        turnIndicator.innerText = '';
        renderGameboard();
        updateTurnIndicator();
    });

    renderGameboard();
    updateTurnIndicator();
</script>
</body>
</html>
